{% extends "base.html" %}
{% block content %}
{% if form.errors %}
<ul class='form-errors'>
{% for error in form.errors %}
<div class="alert alert-warning" role="alert">
{{ error }}
</div>
{% endfor %}
</ul>
{% endif %}
<div class="app-wrapper">
	<div class="app-content pt-3 p-md-3 p-lg-4">
	<div class="container-xl">
	{% for message in messages %}
	<div class="alert alert-warning" role="alert">
	{{ message}}
	</div>
	{% endfor %}
	<div class="app-card app-card-accordion shadow-sm mb-4">
		<div class="app-card app-card-settings shadow-sm p-4">
			<form class="settings-form" enctype="multipart/form-data" method="POST">
			{% csrf_token %}
				<div class="row">
					<div class="mb-3">
						{{form.faculty}}
					{{form.author}}
					<h1>Edit your Contribution Here!</h1><br>
					<label for="setting-input-3" class="form-label">Title: </label>
					{{form.title}}<br>	
					<label for="setting-input-3" class="form-label">Upload Images(Max=3): </label>	<br>		
						{{form.images}}<br>	<br>
						<label for="setting-input-3" class="form-label">Upload Images(Max=3): </label>	<br>		
						{{form.images2}}<br>	<br>
						<label for="setting-input-3" class="form-label">Upload Images(Max=3): </label>	<br>		
						{{form.images3}}<br>	<br>
						<div id="preview" class="mx-auto" style="max-width: 600px;"></div><br>	
					<label for="setting-input-3" class="form-label">Upload Word Documentation: </label>	<br>		
						{{form.paragraphs}}<br>	<br>	<br>	<br>	
						
			
						<br><button type="submit" class="btn app-btn-primary" >Update</button><br>
				</form>
			</div><!--//app-card-body-->
					</div>

	</div>	
</div>
<script>
function previewImages() {

var preview = document.querySelector('#preview');

if (this.files) {
  [].forEach.call(this.files, readAndPreview);
}

function readAndPreview(file) {

  // Make sure `file.name` matches our extensions criteria
  if (!/\.(jpe?g|png|gif)$/i.test(file.name)) {
    return alert(file.name + " is not an image");
  } // else...
  
  var reader = new FileReader();
  
  reader.addEventListener("load", function() {
    var image = new Image();
    image.height = 150;
    image.title  = file.name;
    image.src    = this.result;
    preview.appendChild(image);
  });
  
  reader.readAsDataURL(file);
	}
}
document.querySelector('#file-input').addEventListener("change", previewImages);

</script>
{% endblock content %}
